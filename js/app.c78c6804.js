(function(){"use strict";var e={216:function(e,t,a){var n=a(144),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("keep-alive",[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)],1)},o=[],r=a(1001),s={},l=(0,r.Z)(s,i,o,!1,null,null,null),c=l.exports,u=a(8345),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("el-container",[t("el-aside",{attrs:{width:"160px"}},[t("HomeAside")],1),t("el-container",[t("el-header",{staticClass:"header"},[t("HomeHeader")],1),t("el-main",[t("keep-alive",[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)],1)],1)],1)],1)},d=[],p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"homeAsideMain"},[e._m(0),t("div",{staticClass:"menuList"},e._l(e.menu,(function(a,n){return t("div",{staticClass:"menu",class:n===e.active?"active":"",on:{click:function(t){return e.activeMenu(n)}}},[e._v(e._s(a))])})),0)])},f=[function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex"}},[t("h1",{staticClass:"title"},[e._v("墨书")]),t("div",{staticClass:"logoPicture"})])}],g={name:"HomeAside",data(){return{menu:["首页","团队管理","文档管理","设计原型"],routerName:["homeMain","manageProject","manageDocument","manageDesignPrototype","ManageDrawPicture"],active:0}},methods:{activeMenu(e){this.active=e,this.$router.push({name:this.routerName[e]})}},watch:{$route:{immediate:!0,handler(e,t){this.active=this.routerName.indexOf(e.name),console.log(this.active,e)}}}},h=g,v=(0,r.Z)(h,p,f,!1,null,"e6409f00",null),b=v.exports,y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"HomeHeaderMain"},[t("div",{staticClass:"avatar"}),t("div",{staticClass:"username"},[e._v("欢迎，"+e._s(e.username))]),t("div",{staticClass:"iconfont icon-ico_dengchu logout",on:{click:e.logout}})])])},C=[],w=a(629);n["default"].use(w.ZP);var _=new w.ZP.Store({state:{isLogin:"true"===localStorage.isLogin,user:{username:"熊本熊",cookie:""}},getters:{},mutations:{setLogin(e,t){console.log(t),e.isLogin=t}},actions:{},modules:{}}),x={name:"HomeHeader",data(){return{username:"熊本熊"}},methods:{logout(){this.$confirm("确定退出账号吗?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info"}).then((()=>{_.commit("setLogin",!1),localStorage.isLogin=!1,this.$message({type:"success",message:"已登出账号"}),this.$router.push({path:"/login"})})).catch((()=>{}))}}},k=x,I=(0,r.Z)(k,y,C,!1,null,"0ce43e44",null),D=I.exports,T={name:"HomeView",components:{HomeAside:b,HomeHeader:D}},$=T,S=(0,r.Z)($,m,d,!1,null,"717f07e0",null),M=S.exports,P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"HomeMain"},[t("div",{staticClass:"breadCrumb"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{staticStyle:{"font-weight":"800 !important"}},[e._v("首页")])],1)],1)])},E=[],O={name:"HomeMain",data(){return{}},component:{}},L=O,Z=(0,r.Z)(L,P,E,!1,null,"70e9f51c",null),j=Z.exports,N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"breadCrumb"},[t("el-breadcrumb",{attrs:{separator:"/",to:{path:"/manageDocument"}}},[t("el-breadcrumb-item",[e._v("项目管理")])],1)],1),t("el-button",{staticClass:"buttonAddTeam",attrs:{type:"primary",icon:"el-icon-s-custom"},on:{click:e.addTeam}},[e._v("添加团队")]),e.addingTeam?t("add-team-modal",{on:{closeModal:e.closeModal}}):e._e()],1)},H=[],q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"addTeamContent"},[t("div",{staticClass:"topTitle"},[t("span",[e._v("添加团队")]),t("span",{staticClass:"iconfont icon-guanbi close",on:{click:e.closeModal}})]),t("div",{staticClass:"formContainer"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.team,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"团队名称",prop:"name"}},[t("el-input",{staticStyle:{width:"300px"},model:{value:e.team.name,callback:function(t){e.$set(e.team,"name",t)},expression:"team.name"}})],1),t("el-form-item",{attrs:{label:"团队描述",prop:"desc"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea"},model:{value:e.team.description,callback:function(t){e.$set(e.team,"description",t)},expression:"team.description"}})],1),t("el-form-item",{attrs:{label:"团队类型"}},[t("el-select",{attrs:{placeholder:"请选择团队类型"},model:{value:e.team.region,callback:function(t){e.$set(e.team,"region",t)},expression:"team.region"}},[t("el-option",{attrs:{label:"开发",value:"develop"}}),t("el-option",{attrs:{label:"科研",value:"research"}}),t("el-option",{attrs:{label:"市场",value:"marketing"}})],1)],1),t("el-form-item",{attrs:{label:"添加团队队员"}},[t("el-select",{attrs:{placeholder:"请选择添加团员"},model:{value:e.team.member,callback:function(t){e.$set(e.team,"member",t)},expression:"team.member"}},e._l(e.friend,(function(e,a){return t("el-option",{attrs:{label:e.username,value:e.username}})})),1)],1)],1)],1),t("div",{staticClass:"teamMemberContainer"},e._l(e.memberList,(function(a,n){return t("div",{staticClass:"member"},[t("span",{staticClass:"memberName"},[e._v(e._s(a))]),t("span",{staticClass:"icon-ren-danren iconfont logo"})])})),0),t("el-button",{staticStyle:{width:"100px","align-self":"center"},attrs:{type:"primary"}},[e._v("创建")])],1)])},B=[],A={name:"Modal",data(){return{team:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],description:"",member:""},friend:[{username:"熊本熊",userId:"1"},{username:"时冉",userId:"2"},{username:"jmj",userId:"3"}],rules:{name:[{required:!0,message:"请输入团队名称",trigger:"blur"}],region:[{required:!0,message:"请填写团队描述",trigger:"change"}],date1:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择时间",trigger:"change"}],type:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}]},memberList:[]}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},resetForm(e){this.$refs[e].resetFields()},closeModal(){this.$confirm("确定放弃创建团队吗?","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$emit("closeModal")}))}},watch:{"team.member":{handler(e,t){this.memberList.push(e)},deep:!0}}},F=A,W=(0,r.Z)(F,q,B,!1,null,"3481c500",null),J=W.exports,R={name:"ManageProject",components:{AddTeamModal:J},data(){return{addingTeam:!1}},methods:{addTeam(){this.addingTeam=!0},closeModal(){this.addingTeam=!1}}},z=R,U=(0,r.Z)(z,N,H,!1,null,"a24ca2c4",null),V=U.exports,Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"breadCrumb"},[t("el-breadcrumb",{attrs:{separator:"/",to:{path:"/manageDocument"}}},[t("el-breadcrumb-item",[e._v("文档管理")])],1)],1),t("div",{staticClass:"topPart"},[t("div",{staticClass:"input"},[t("el-input",{attrs:{placeholder:"请输入想查找的文档名字","suffix-icon":"el-icon-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[e._v("搜索")]),t("el-button",{attrs:{type:"success"},on:{click:e.goCreateDocument}},[e._v("添加文档")])],1),t("div",{staticClass:"tablePart"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"filename",label:"文件名",width:"550"}}),t("el-table-column",{attrs:{prop:"creator",label:"创建者",width:"300"}}),t("el-table-column",{attrs:{prop:"lastModified",label:"最后一次修改",width:"200"}}),t("el-table-column",{attrs:{prop:"team",width:"200",label:"隶属于的团队"}}),t("el-table-column",{attrs:{"header-cell-style":{"text-align":"center"},width:"110",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteDocument(a.$index)}}}),t("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(t){return e.goEditDocument(a.$index)}}})]}}])})],1)],1)])},G=[],K={name:"ManageOnlineDocument",data(){return{search:"",tableData:JSON.parse(localStorage.getItem("fileInfo"))||[]}},methods:{deleteDocument(e){this.tableData.splice(e,1),console.log(this.tableData),localStorage.setItem("fileInfo",JSON.stringify(this.tableData)),console.log(e)},goCreateDocument(){this.$router.push({path:"/documentEdit"})},goEditDocument(e){this.$router.push({path:"/documentEdit",query:{fileInfo:this.tableData[e],index:e}})}}},Q=K,X=(0,r.Z)(Q,Y,G,!1,null,"628a2132",null),ee=X.exports,te=function(){var e=this;e._self._c;return e._m(0)},ae=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("h1",[e._v("我是设计原型")])])}],ne={name:"ManageDesignPrototype"},ie=ne,oe=(0,r.Z)(ie,te,ae,!1,null,"1b7f407c",null),re=oe.exports,se=function(){var e=this;e._self._c;return e._m(0)},le=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("h1",[e._v("我是绘制图形")])])}],ce={name:"ManageDrawPicture"},ue=ce,me=(0,r.Z)(ue,se,le,!1,null,"46fd718f",null),de=me.exports,pe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"webName"},[e._v("墨书")]),t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isLogin?t("div",{key:"login"},[t("div",{staticClass:"login-form",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}}},[t("h2",{staticClass:"title"},[e._v("登录")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticStyle:{"margin-top":"20px"},attrs:{type:"text",name:"username",placeholder:"用户名"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",name:"password",placeholder:"密码"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),t("button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"submit"},on:{click:e.login}},[e._v("登录")]),t("span",{staticClass:"change",on:{click:function(t){e.isLogin=!1}}},[e._v("尚未有账号?点击注册")])])]):t("div",{key:"register"},[t("div",{staticClass:"login-form"},[t("h2",{staticClass:"title"},[e._v("注册")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerInfo.username,expression:"registerInfo.username"}],staticStyle:{"margin-top":"20px"},attrs:{type:"text",name:"username",placeholder:"用户名"},domProps:{value:e.registerInfo.username},on:{input:function(t){t.target.composing||e.$set(e.registerInfo,"username",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerInfo.password1,expression:"registerInfo.password1"}],attrs:{type:"password",name:"password",placeholder:"密码"},domProps:{value:e.registerInfo.password1},on:{input:function(t){t.target.composing||e.$set(e.registerInfo,"password1",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerInfo.password2,expression:"registerInfo.password2"}],attrs:{type:"password",name:"password",placeholder:"确认密码"},domProps:{value:e.registerInfo.password2},on:{input:function(t){t.target.composing||e.$set(e.registerInfo,"password2",t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.registerInfo.email,expression:"registerInfo.email"}],attrs:{type:"text",name:"pemail",placeholder:"邮箱"},domProps:{value:e.registerInfo.email},on:{input:function(t){t.target.composing||e.$set(e.registerInfo,"email",t.target.value)}}}),t("button",{attrs:{type:"submit"},on:{click:e.register}},[e._v("注册")]),t("span",{staticClass:"change",on:{click:function(t){e.isLogin=!0}}},[e._v("返回登录")])])])])],1)])},fe=[],ge=a(9669),he=a.n(ge);const ve=he().create({baseURL:"http://127.0.0.1:8000/"});ve.interceptors.request.use((function(e){return _.state.user&&_.state.user.token&&(e.headers.Authorization="Bearer "+_.state.user.token),e}),(function(e){return Promise.reject(e)})),ve.interceptors.response.use((function(e){return 200===e.status?e.data:e}),(function(e){return Promise.reject(e)}));var be=ve;let ye=e=>be({url:"/profile/signup/",method:"POST",data:e});var Ce={name:"LoginPage",data(){return{isLogin:!0,user:{username:"",password:""},registerInfo:{username:"",password1:"",password2:"",email:""}}},methods:{login(){"admin"===this.user.username&&"admin"===this.user.password&&(_.commit("setLogin",!0),localStorage.isLogin=!0,this.$router.push({path:"/"}))},async register(){let e=await ye({username:this.registerInfo.username,password1:this.registerInfo.password1,password2:this.registerInfo.password2,email:this.registerInfo.email});console.log(e)}}},we=Ce,_e=(0,r.Z)(we,pe,fe,!1,null,"94f6af34",null),xe=_e.exports,ke=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{staticClass:"OperationWrap"},[t("div",{staticClass:"buttonWrap"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-back"},on:{click:e.returnBack}},[e._v("返回")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-paperclip"},on:{click:e.save}},[e._v("保存")])],1)]),t("div",{staticClass:"titleWrap",staticStyle:{width:"95vw",margin:"5px auto 15px"}},[e.isEditingTitle?t("div",{staticClass:"blockWrap",on:{click:e.cancelEditTitle}}):e._e(),e.isEditingTitle?e._e():t("h2",[e._v(e._s(e.fileInfo.filename))]),e.isEditingTitle?t("input",{directives:[{name:"model",rawName:"v-model",value:e.fileInfo.filename,expression:"fileInfo.filename"}],ref:"inputTitle",attrs:{type:"text"},domProps:{value:e.fileInfo.filename},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.cancelEditTitle.apply(null,arguments)},input:function(t){t.target.composing||e.$set(e.fileInfo,"filename",t.target.value)}}}):e._e(),t("span",{staticClass:"iconfont icon-bianji",staticStyle:{color:"skyblue"},on:{click:e.editTitle}})]),t("DocumentEditorWang",{ref:"editorChild",staticClass:"editor",staticStyle:{width:"95vw",margin:"0 auto"},attrs:{docContent:e.fileInfo.fileContent},on:{getEditorContent:e.addDocument}})],1)},Ie=[],De=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticStyle:{border:"1px solid #ccc"}},[t("Toolbar",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{editor:e.editor,defaultConfig:e.toolbarConfig,mode:e.mode}}),t("Editor",{staticStyle:{height:"500px","overflow-y":"hidden",width:"95vw"},attrs:{defaultConfig:e.editorConfig,mode:e.mode},on:{onCreated:e.onCreated},model:{value:e.html,callback:function(t){e.html=t},expression:"html"}})],1)},Te=[],$e=a(5660),Se=n["default"].extend({props:["docContent"],components:{Editor:$e.M,Toolbar:$e.o},data(){return{editor:null,html:"<p>随便写点东西吧~</p>",toolbarConfig:{},editorConfig:{placeholder:"请输入内容..."},mode:"default"}},methods:{onCreated(e){this.editor=Object.seal(e)},showMe(){this.$emit("getEditorContent",this.html)}},created(){this.$nextTick((()=>{""!==this.docContent&&(this.html=this.docContent)}))},beforeDestroy(){const e=this.editor;null!=e&&e.destroy()}}),Me=Se,Pe=(0,r.Z)(Me,De,Te,!1,null,null,null),Ee=Pe.exports;function Oe(){let e=(new Date).getTime();return e.toString()}var Le={name:"DocumentEditor",components:{DocumentEditorWang:Ee},data(){return{isSaved:!1,fileInfo:{filename:"暂无标题",fileContent:"",lastChanged:""},isEditingTitle:!1,isEditingDocument:!1}},beforeRouteEnter(e,t,a){e.query&&e.query.fileInfo?(console.log(e.query.fileInfo),a((t=>{t.fileInfo=e.query.fileInfo,t.isEditingDocument=!0,console.log(t.fileInfo)}))):a()},methods:{returnBack(){this.isSaved?this.$router.go(-1):this.$confirm("该文件尚未保存，是否确认退出?","提示",{confirmButtonText:"确定退出",cancelButtonText:"取消退出",type:"warning"}).then((()=>{this.$message({type:"success",message:"成功退出"}),this.$router.go(-1)}))},editTitle(){this.isEditingTitle=!0,this.$nextTick((()=>{this.$refs.inputTitle.focus()}))},cancelEditTitle(){this.isEditingTitle=!1},save(){this.$refs.editorChild.showMe(),this.isSaved=!0,this.$message({message:"成功保存",type:"success"})},addDocument(e){let t=JSON.parse(localStorage.getItem("fileInfo"))||[];if(this.isEditingDocument)this.fileInfo.fileContent=e,console.log(this.fileInfo),t[parseInt(this.$route.query.index)]=this.fileInfo;else{let a=(new Date).getFullYear(),n=(new Date).getMonth()+1,i=(new Date).getDate(),o={filename:this.fileInfo.filename,fileContent:e,lastModified:`${a}-${n}-${i}`,creator:_.state.user.username,fileId:Oe()};t.push(o)}console.log(t),localStorage.setItem("fileInfo",JSON.stringify(t))}}},Ze=Le,je=(0,r.Z)(Ze,ke,Ie,!1,null,"7b9a235d",null),Ne=je.exports;n["default"].use(u.Z);const He=[{path:"/",name:"home",component:M,redirect:{name:"homeMain"},children:[{path:"/main",name:"homeMain",component:j},{path:"/manageProject",name:"manageProject",component:V},{path:"/manageDocument",name:"manageDocument",component:ee},{path:"/manageDesignPrototype",name:"manageDesignPrototype",component:re},{path:"/ManageDrawPicture",name:"ManageDrawPicture",component:de}]},{path:"/login",name:"login",component:xe,meta:{requiredLogin:!0}},{path:"/documentEdit",name:"documentEdit",component:Ne}],qe=new u.Z({routes:He});qe.beforeEach(((e,t,a)=>{"/login"===e.path||_.state.isLogin?a():a({path:"/login"})}));const Be=u.Z.prototype.push;u.Z.prototype.push=function(e){return Be.call(this,e).catch((e=>e))};var Ae=qe,Fe=a(4720),We=a.n(Fe);n["default"].config.productionTip=!1,n["default"].use(We()),new n["default"]({router:Ae,store:_,render:function(e){return e(c)}}).$mount("#app")}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,o){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[l])}))?n.splice(l--,1):(s=!1,o<r&&(r=o));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,r=n[0],s=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(l)var u=l(a)}for(t&&t(n);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},n=self["webpackChunkshare_doc"]=self["webpackChunkshare_doc"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(216)}));n=a.O(n)})();
//# sourceMappingURL=app.c78c6804.js.map
{"version":3,"file":"js/644.8209bdc0.js","mappings":"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","sources":["webpack://share-doc/./src/custom-component/VTable/Component.vue?1e90","webpack://share-doc/src/custom-component/VTable/Component.vue","webpack://share-doc/./src/custom-component/VTable/Component.vue?f963","webpack://share-doc/./src/custom-component/VTable/Component.vue","webpack://share-doc/./src/custom-component/common/OnEvent.vue","webpack://share-doc/src/custom-component/common/OnEvent.vue","webpack://share-doc/./src/custom-component/common/OnEvent.vue?9cb2","webpack://share-doc/./src/utils/request.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('table',{staticClass:\"v-table\"},[_c('tbody',_vm._l((_vm.propValue.data),function(item,index){return _c('tr',{key:index,class:{\n                stripe: _vm.propValue.stripe && index % 2,\n                bold: _vm.propValue.thBold && index === 0\n            }},_vm._l((item),function(e,i){return _c('td',{key:i},[_vm._v(_vm._s(e))])}),0)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <table class=\"v-table\">\r\n        <tbody>\r\n            <tr\r\n                v-for=\"(item, index) in propValue.data\"\r\n                :key=\"index\"\r\n                :class=\"{\r\n                    stripe: propValue.stripe && index % 2,\r\n                    bold: propValue.thBold && index === 0\r\n                }\"\r\n            >\r\n                <td v-for=\"(e, i) in item\" :key=\"i\">{{ e }}</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</template>\r\n\r\n<script>\r\nimport request from '@/utils/request'\r\nimport OnEvent from '../common/OnEvent'\r\n\r\nexport default {\r\n    extends: OnEvent,\r\n    props: {\r\n        propValue: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n        request: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n        element: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            cancelRequest: null,\r\n        }\r\n    },\r\n    created() {\r\n        if (this.request) {\r\n            this.cancelRequest = request(this.request, this.propValue, 'data')\r\n        }\r\n    },\r\n    beforeDestroy() {\r\n        this.request && this.cancelRequest()\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.v-table {\r\n    border-collapse: collapse;\r\n    table-layout: fixed;\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n\r\n    td {\r\n        border: 1px solid #ebeef5;\r\n        height: 40px;\r\n        width: 60px;\r\n        padding: 10px;\r\n    }\r\n\r\n    .bold {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .stripe {\r\n        background-color: #fafafa;\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Component.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Component.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Component.vue?vue&type=template&id=50adec07&scoped=true&\"\nimport script from \"./Component.vue?vue&type=script&lang=js&\"\nexport * from \"./Component.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Component.vue?vue&type=style&index=0&id=50adec07&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50adec07\",\n  null\n  \n)\n\nexport default component.exports","var render, staticRenderFns\nimport script from \"./OnEvent.vue?vue&type=script&lang=js&\"\nexport * from \"./OnEvent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport eventBus from '@/utils/eventBus'\r\n\r\nexport default {\r\n    props: {\r\n        linkage: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n        element: {\r\n            type: Object,\r\n            default: () => {},\r\n        },\r\n    },\r\n    created() {\r\n        if (this.linkage?.data?.length) {\r\n            eventBus.$on('v-click', this.onClick)\r\n            eventBus.$on('v-hover', this.onHover)\r\n        }\r\n    },\r\n    mounted() {\r\n        const { data, duration } = this.linkage || {}\r\n        if (data?.length) {\r\n            this.$el.style.transition = `all ${duration}s`\r\n        }\r\n    },\r\n    beforeDestroy() {\r\n        if (this.linkage?.data?.length) {\r\n            eventBus.$off('v-click', this.onClick)\r\n            eventBus.$off('v-hover', this.onHover)\r\n        }\r\n    },\r\n    methods: {\r\n        changeStyle(data = []) {\r\n            data.forEach(item => {\r\n                item.style.forEach(e => {\r\n                    if (e.key) {\r\n                        this.element.style[e.key] = e.value\r\n                    }\r\n                })\r\n            })\r\n        },\r\n\r\n        onClick(componentId) {\r\n            const data = this.linkage.data.filter(item => item.id === componentId && item.event === 'v-click')\r\n            this.changeStyle(data)\r\n        },\r\n\r\n        onHover(componentId) {\r\n            const data = this.linkage.data.filter(item => item.id === componentId && item.event === 'v-hover')\r\n            this.changeStyle(data)\r\n        },\r\n    },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OnEvent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OnEvent.vue?vue&type=script&lang=js&\"","import { Message } from 'element-ui'\r\n\r\nexport const urlRE = /(https?):\\/\\/[-A-Za-z0-9+&@#/%?=~_|!:,.;]+[-A-Za-z0-9+&@#/%=~_|]/\r\n\r\nfunction request(options) {\r\n    return new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest()\r\n        xhr.timeout = 6000\r\n\r\n        let url = getURL(options.url)\r\n        if (options.method === 'GET') {\r\n            url += `${getURLParam(options.data)}`\r\n        }\r\n\r\n        xhr.open(options.method, url)\r\n\r\n        xhr.ontimeout = reject\r\n        xhr.onerror = reject\r\n        xhr.onload = (e) => {\r\n            resolve(e.target.response)\r\n        }\r\n\r\n        xhr.send(JSON.stringify(getURLData(options.data, options.paramType)))\r\n    })\r\n}\r\n\r\nfunction getURLParam(data) {\r\n    let result = ''\r\n    data.forEach(item => {\r\n        if (item[0]) {\r\n            result += `&${item[0]}=${item[1]}`\r\n        }\r\n    })\r\n\r\n    return result ? '?' + result : ''\r\n}\r\n\r\nfunction getURLData(data, paramType) {\r\n    if (!data) return ''\r\n\r\n    if (paramType === 'array') {\r\n        return data\r\n    }\r\n\r\n    const result = {}\r\n    data.forEach(item => {\r\n        if (item[0]) {\r\n            result[item[0]] = item[1]\r\n        }\r\n    })\r\n\r\n    return result\r\n}\r\n\r\nexport function getURL(url) {\r\n    return url.startsWith('http') ? url : 'https://' + url\r\n}\r\n\r\n/**\r\n *\r\n * @param {object} options 请求的相关参数\r\n * @param {object} obj 需要修改的数据的父对象\r\n * @param {string} key 需要修改的数据在父对象中对应的 key\r\n * @param {string} responseType 需要修改的数据对应的类型\r\n * @returns {function} 可以取消请求的函数\r\n */\r\nexport default function requestWarpper(options, obj, key, responseType = 'object') {\r\n    let count = 0\r\n    let timer\r\n    const url = options?.url\r\n    if (url && !/^\\d+$/.test(url) || urlRE.test(getURL(url))) {\r\n        if (!options.series) {\r\n            request(options, responseType)\r\n            .then(data => {\r\n                if (responseType === 'object' || responseType === 'array') {\r\n                    obj[key] = JSON.parse(data)\r\n                } else {\r\n                    obj[key] = data\r\n                }\r\n            })\r\n            .catch(err => Message.error(err?.message || err))\r\n        } else {\r\n            timer = setInterval(() => {\r\n                if (options.requestCount != 0 && options.requestCount <= count) {\r\n                    clearInterval(timer)\r\n                    return\r\n                }\r\n\r\n                count++\r\n                request(options, responseType)\r\n                .then(data => {\r\n                    if (responseType === 'object' || responseType === 'array') {\r\n                        obj[key] = JSON.parse(data)\r\n                    } else {\r\n                        obj[key] = data\r\n                    }\r\n                })\r\n                .catch(err => Message.error(err?.message || err))\r\n            }, options.time)\r\n        }\r\n    }\r\n\r\n    return function cancelRequest() {\r\n        clearInterval(timer)\r\n    }\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","_l","propValue","item","index","key","class","stripe","bold","thBold","e","i","_v","_s","staticRenderFns","extends","OnEvent","props","type","Object","default","request","element","data","cancelRequest","created","beforeDestroy","component","linkage","length","eventBus","onClick","onHover","mounted","duration","$el","style","transition","methods","changeStyle","forEach","value","componentId","filter","id","event","urlRE","options","Promise","resolve","reject","xhr","XMLHttpRequest","timeout","url","getURL","method","getURLParam","open","ontimeout","onerror","onload","target","response","send","JSON","stringify","getURLData","paramType","result","startsWith","requestWarpper","obj","responseType","timer","count","test","series","setInterval","requestCount","clearInterval","then","parse","catch","err","Message","message","time"],"sourceRoot":""}